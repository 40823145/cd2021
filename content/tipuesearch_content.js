var tipuesearch = {"pages": [{'title': 'About', 'text': 'GitHub: https://github.com/40823145/cd2021 \n YouTube: https://www.youtube.com/channel/UCVtMNqfQf9l-XS-9VgD1nog?view_as=subscriber \n', 'tags': '', 'url': 'About.html'}, {'title': 'Copperation', 'text': 'å”åŒè¨­è¨ˆèˆ‡ç‰ˆæ¬¡ç®¡ç†èƒ½å¤ æœ‰æ•ˆæå‡åœ˜éšŠå·¥ä½œæ•ˆç‡ï¼Œé™ä½å…§å®¹äº’ç›¸è¦†è“‹ï¼Œæœ€çµ‚é€ æˆç„¡æ³•è¾¨è­˜æ˜¯èª°æ›´æ”¹å…§å®¹çš„æƒ…æ³ã€‚ \n \n é ˜å°ä¸»å¹¹è¨­ç«‹é …ç›®Projectæ‰€éœ€ç›®æ¨™è¦æ±‚ï¼Œä¸»å°è‡³æœ€çµ‚å®Œæˆï¼Œå”ä½œè€…åˆ†æ”¯Branchç”±ä¸»å¹¹åˆ†é…è² è²¬å·¥ä½œå€æˆ–è¡ç”Ÿä¸åŒè¨­è¨ˆï¼Œå„åˆ†æ”¯çš†é”åˆ°ç›®æ¨™éœ€æ±‚å¾Œåˆä½µå›ä¸»å¹¹ï¼Œæ–¹èƒ½ç”Ÿç”¢é …ç›®ã€‚ \n \n å› å”ä½œè€…çš„å·¥ä½œèˆ‡å…§å®¹æ›´å‹•çš†åœ¨ç¨ç«‹åˆ†æ”¯æ¸…æ¸…æ¥šæ¥šï¼Œè²¬ä»»æ­¸å±¬çš„ä¹Ÿå°±ä¸€ç›®äº†ç„¶ã€‚ \n åˆ†æ”¯å‡ºä¾†çš„è¨­è¨ˆï¼Œåœ¨æœ¬æ¬¡ç›®æ¨™ä¸éœ€è¦ï¼Œæˆ–è¨±æœªä¾†çš„é …ç›®å¯ä»¥ç”¨ä¸Šã€‚å¯ä»¥é¿å…æ‰ã€Œç•¶åˆåšéï¼Œä½†æ”¹æ‰äº†ï¼Œé€™æ¬¡åˆè¦é‡åšã€é€™ç¨®äº‹æƒ…ç™¼ç”Ÿ \n \n çµ„é•·åœ¨å€‰å„²Setting->Manage access->Invite a collaboratoé‚€è«‹å”ä½œè€… \n çµ„å“¡åœ¨è‡ªå·±å€‰å„²ä¸­Setting->Manage access->Invite a collaboratoçµ„é•·(çµ„å“¡ä¸ç”¨äº’é‚€) \n git clone --recurse-submodules https://github.com/a40823112/stage2-ag1.git stage2-ag1 (cloneçµ„é•·å€‰å„²)\ncd stage2-ag1\ngit remote add 40823145 https://github.com/40823145/stage2-ag1.git (addè‡ªå·±å€‰å„²)\n \n', 'tags': '', 'url': 'Copperation.html'}, {'title': 'Midterm', 'text': '', 'tags': '', 'url': 'Midterm.html'}, {'title': 'Week 1', 'text': '', 'tags': '', 'url': 'Week 1.html'}, {'title': 'Create New repository and Wecsite', 'text': 'step1. Download protable system \n \xa0 Go to   2021 å¯æ”œç¨‹å¼ç³»çµ± \n First download the  ä¸‹è¼‰ kmol2021_spring_v2.7z  compressed file , and extract the file to the flash drive. \n step2. \n Set  .gitconfig  and save this file in the "home" directory \n \n step3. Use cmstemplate  \n Go to  mdecourse / cmstemplate \n Click  Use the template \n \n Repository name:cd2021 \n Click  Create new repository from template \n \n step4. G it clone \n Go to the github website git clone the URL of your own storage \n git clone --recurse-submodules https://github.com/40823145/cd2021.git \n \n Upgrade pip and install plugins \n step5. Github pages \n \n Restart protable system,input in cmd \n cd tmp\ncd cd2021\ncd cmsimde\npython wsgi.py \n Search  https://localhost:9443/  in the browser \n tip:http"s" \n \n', 'tags': '', 'url': 'Create New repository and Wecsite.html'}, {'title': 'Week 2', 'text': 'åˆ†çµ„äº‚æ•¸æ’åº(å¤±æ•—) \n import random\nimport requests\nfrom bs4 import BeautifulSoup\n\nresponse = requests.get(\n    "https://ethercalc.net/awlfom9374eg_rqqa77ezdfrl/app")\nsoup = BeautifulSoup(response.text, "html.parser")\nresult = soup.find("tr","td")\n#random.shuffle(result)\nprint(result)\n\n\n \n', 'tags': '', 'url': 'Week 2.html'}, {'title': 'Week 3', 'text': '', 'tags': '', 'url': 'Week 3.html'}, {'title': 'upgrade cmsimde', 'text': 'git pull origin master\n \n \n Copy the new file to Y:\\tmp\\cd2021> \n \n cmsimde connection method \n cd tmp\\cd2021\ncms\n \n \n push \n cd tmp\\cd2021\nacp "æ›´æ–°å…§å®¹"\n \n \n', 'tags': '', 'url': 'upgrade cmsimde.html'}, {'title': 'Stage1-ag1', 'text': "åˆ†çµ„å°ˆé¡Œæˆå“¡ï¼š \n ç¬¬ä¸€ä½æˆå“¡å­¸è™Ÿï¼š 40823145 \xa0(çµ„é•·) \n Warehouse:  40823145 Stage1-ag1 Warehouse \n Website:  40823145 Stage1-ag1 Website \n Reveal:\xa0 40823145 Stage1-ag1 Reveal \n ç¬¬äºŒä½æˆå“¡å­¸ç”Ÿï¼š 40823108 \xa0(çµ„å“¡) \n Warehouse:\xa0 40823108 Stage1-ag1 Warehouse \n Website: \xa0 40823108 Stage1-ag1 Website \n Reveal:  40823108 Stage1-ag1 Reveal \n å°ˆé¡Œé …ç›®:EV3é¿éšœè»Š \n Webot basic operation: \n \n Pythoné¿éšœ: \n \n from controller import Robot\n\nTIME_STEP = 1\nrobot = Robot()\nds = []\ndsNames = ['ds_right', 'ds_left', 'ds_in']\nfor i in range(3):\n    ds.append(robot.getDevice(dsNames[i]))\n    ds[i].enable(TIME_STEP)\nwheels = []\nwheelsNames = ['wheel1', 'wheel2', 'wheel3', 'wheel4']\nfor i in range(4):\n    wheels.append(robot.getDevice(wheelsNames[i]))\n    wheels[i].setPosition(float('inf'))\n    wheels[i].setVelocity(0.0)\navoidObstacleCounter = 0\nwhile robot.step(TIME_STEP) != -1:\n    leftSpeed = 10.0\n    rightSpeed = 10.0\n    if avoidObstacleCounter > 0:\n        avoidObstacleCounter -= 1\n        leftSpeed = 1.0\n        rightSpeed = -1.0\n    else:  # read sensors\n        for i in range(3):\n            if ds[i].getValue() < 900.0:\n                avoidObstacleCounter = 90\n    wheels[0].setVelocity(leftSpeed)\n    wheels[1].setVelocity(rightSpeed)\n    wheels[2].setVelocity(leftSpeed)\n    wheels[3].setVelocity(rightSpeed) \n STLåœ–æª” \n \n é‡åˆ°å•é¡Œ: \n å°‡EV3 STLé»¨åŒ¯å…¥webotsï¼Œå…¨éƒ¨çš„é›¶ä»¶æœƒè®Šæˆæ•´å¡Šå¯¦é«”ï¼Œæ‰€ä»¥å°‡éœ€è¦åšå‹•çš„è¼ªèƒéƒ¨åˆ†å…ˆæ‹†é™¤ï¼Œåœ¨webotsä¸­é‡å»ºï¼Œä½†åœ¨webotsä¸­é‡å»ºçš„è¼ªèƒé¡¯ç¤ºä¸å‡ºä¾†ï¼Œå•é¡Œå°šåœ¨è§£æ±ºç•¶ä¸­ \n \n", 'tags': '', 'url': 'Stage1-ag1.html'}, {'title': 'stage2-ag1', 'text': 'åˆ†çµ„å°ˆé¡Œæˆå“¡ï¼š \n ç¬¬ä¸€ä½æˆå“¡ï¼š 408231112 \xa0(çµ„é•·) \n Website:  40823112 Stage2-ag1 Website \n Reveal:  40823112 Stage2-ag1 Reveal \n  ç¬¬äºŒä½æˆå“¡ï¼š 40823108 \xa0(çµ„å“¡) \n Website:\xa0 40823108 Stage2-ag1 Website \n Reveal:\xa0 40823108 Stage2-ag1 Reveal \n ç¬¬ä¸‰ä½æˆå“¡ï¼š 40823109 \xa0(çµ„å“¡) \n Website:\xa0 40823109 Stage2-ag1 Website \n ç¬¬å››ä½æˆå“¡ï¼š 408231045 \xa0(çµ„å“¡) \n Website:\xa0 40823145 Stage2-ag1 Website \n Reveal:\xa0 40823145 Stage2-ag1 Reveal \n å°ˆé¡Œé …ç›®:ç¶“è¨è«–æ±ºå®šStage2çš„é …ç›®ï¼Œç‚ºStage1-ag1çš„æ”¹è‰¯ï¼Œä¸¦å¢åŠ å…¶å®ƒåŠŸèƒ½: \n 1.åˆ©ç”¨éµç›¤æ–¹å‘éµæ“æ§ \n 2.å¢åŠ æ¥è¿‘å‚³æ„Ÿå™¨ä½¿ç”¢å“è‡ªå‹•è¡Œèµ°æ™‚ï¼Œä¸æœƒæ’åˆ°éšœç¤™ç‰© \n æœ¬æ¬¡åœ–æª”æ²¿ç”¨Stage1ï¼Œæ”¹ä½¿ç”¨Coppeliasimï¼Œé€éluaç¨‹å¼ç·¨å¯« \n \n W5 \n \n æœ¬æ¬¡å°ˆæ¡ˆæ²¿ç”¨stage1-ag1ä¹‹å°ˆæ¡ˆï¼Œç‚ºäº†è®“æ¨¡å‹èƒ½å¤ æŒ‰ç…§æˆ‘å€‘çš„æ„æ€åšå‹•ï¼Œæˆ‘å€‘å˜—è©¦ç·¨å¯«Luaç¨‹å¼ä¸¦ä»¥æ–¹å‘éµé€²è¡Œæ§åˆ¶ã€‚ \n ä¸‹æ–¹ç‚ºç¬¬ä¸€æ¬¡æ¸¬è©¦ç¨‹å¼èˆ‡æ¨¡æ“¬åœ– \n \n Luaç¨‹å¼: \n threadFunction=function()\n    -- put your actuation code here\n while sim.getSimulationState()~=sim.simulation_advancing_abouttostop do\n    -- Read the keyboard messages (make sure the focus is on the main window, scene view):\n        message,auxiliaryData=sim.getSimulatorMessage()\n        while message~=-1 do\n            if (message==sim.message_keypress) then\nif (auxiliaryData[1]==2007) then\n                -- up key\n                velocity=1000\n                torque=10000\n                Shape4 = 1000\n                Shape7 = 1000\n            end\n            if (auxiliaryData[1]==2008) then\n                -- down key\n                velocity=1000\n                torque=10000\n                Shape4 = 1000\n                Shape7 = 1000\n            end\n            if (auxiliaryData[1]==2009) then\n                -- left key\n                velocity=1000\n                torque=10000\n                Shape4 = 1000\n                Shape7 = 1000\n            end\n            if (auxiliaryData[1]==2010) then\n                -- right key\n                velocity=1000\n                torque=10000\n                Shape4 = 1000\n                Shape7 = 1000\n            end\n        end\n        message,auxiliaryData=sim.getSimulatorMessage()\n    end\n    if Shape4 == 1\n        then sim.setJointPosition(joint_1, 1000, orientation)\n    if Shape7 == 1\n        then sim.setJointPosition(joint_2, 1000, orientation)\n    end\n        sim.setJointTargetVelocity(joint,velocity)\n    end\n        joint_1=sim.getObjectHandle(\'joint_1\')\n        joint_2=sim.getObjectHandle(\'joint_2\')\n        Shape4=sim.getObjectHandle(\'Shape4\')\n        Shape7=sim.getObjectHandle(\'Shape7\')\n        velocity=0\n        torque=0\n        Shape4 = 0\n        Shape7 = 0\nend \n å› éƒ¨åˆ†èªæ³•æœ‰èª¤ï¼Œæ—¥å¾Œå¾…é™¤éŒ¯ã€‚ \n W6 \n \n ç¶“éä¸€é€±çš„æ™‚é–“ï¼Œæˆ‘å€‘å°‡ç¨‹å¼é€²è¡Œäº†ä¿®æ”¹ï¼Œä½†é‚„æ˜¯æœ‰éŒ¯èª¤ï¼Œç„¡æ³•è®“æ©Ÿæ§‹ä»¥ä¸Šä¸‹å·¦å³éµçš„æ–¹å¼é€²è¡Œæ§åˆ¶ã€‚ \n ä¸‹æ–¹ç‚ºæ¨¡æ“¬åœ–: \n \n ç¬¬äºŒæ¬¡Luaç¨‹å¼æ¸¬è©¦: \n function sysCall_init()\n    -- do some initialization here\n    left_front_handle= sim.getObjectHandle(\'left_front\')\n    left_back_handle= sim.getObjectHandle(\'left_back\')\n    right_back_handle= sim.getObjectHandle(\'right_back\')\n    right_front_handle= sim.getObjectHandle(\'right_front\')\n     \n    joint_1_handle= sim.getObjectHandle(\'joint_1\')\n     \n    joint_2_handle= sim.getObjectHandle(\'joint_2\')\n    MaxVel=10\n    leftvelocity=0\n    rightvelocity=0\n    dVel=0.5;\n    --sim.setJointTargetVelocity(left_front_handle,leftvelocity)\n    sim.setJointTargetVelocity(left_back_handle,leftvelocity)\n    sim.setJointTargetVelocity(right_back_handle,rightvelocity)\n    --sim.setJointTargetVelocity(right_front_handle,rightvelocity)\nend\n \nfunction sysCall_actuation()\n    -- put your actuation code here\n    message,auxiliaryData=sim.getSimulatorMessage()\n    while message~=-1 do\n        if (message==sim.message_keypress) then\n            if (auxiliaryData[1]==32) then\n                -- right key\n                leftvelocity=0\n                rightvelocity=0\n                sim.setJointForce(left_front_handle, 0)\n                sim.setJointForce(left_back_handle, 0)\n                sim.setJointForce(right_back_handle, 0)\n                sim.setJointForce(right_front_handle, 0)\n                 \n                 \n                sim.setJointForce(joint_1_handle, 1000)\n                 \n                sim.setJointForce(joint_2_handle, 1000)\n                break\n            else\n            --sim.setJointForce(left_front_handle, 10000)\n            sim.setJointForce(left_back_handle, 10000)\n            sim.setJointForce(right_back_handle, 10000)\n            --sim.setJointForce(right_front_handle, 10000)\n             \n            sim.setJointForce(joint_1_handle, 0)\n             \n            sim.setJointForce(joint_2_handle, 0)\n            end\n            if (auxiliaryData[1]==2007) then\n                -- up key\n                leftvelocity=(leftvelocity+rightvelocity)/2\n                rightvelocity=leftvelocity\n                leftvelocity=leftvelocity+dVel\n                rightvelocity=rightvelocity+dVel\n            end\n            if (auxiliaryData[1]==2008) then\n                -- down key\n                leftvelocity=(leftvelocity+rightvelocity)/2\n                rightvelocity=leftvelocity\n                leftvelocity=leftvelocity-dVel\n                rightvelocity=rightvelocity-dVel\n            end\n            if (auxiliaryData[1]==2009) then\n                -- left key\n                leftvelocity=leftvelocity-dVel\n                rightvelocity=rightvelocity+dVel\n            end\n            if (auxiliaryData[1]==2010) then\n                -- right key\n                leftvelocity=leftvelocity+dVel\n                rightvelocity=rightvelocity-dVel\n            end\n        end\n        message,auxiliaryData=sim.getSimulatorMessage()\n    end\n     \n    if leftvelocity>MaxVel then\n        leftvelocity=MaxVel\n    end\n    if leftvelocity<-MaxVel then\n        leftvelocity=-MaxVel\n    end\n     \n    if rightvelocity>MaxVel then\n                rightvelocity=MaxVel\n    end\n    if rightvelocity<-MaxVel then\n                rightvelocity=-MaxVel\n    end\n     \n    --sim.setJointTargetVelocity(left_front_handle,leftvelocity)\n    sim.setJointTargetVelocity(left_back_handle,leftvelocity)\n    sim.setJointTargetVelocity(right_back_handle,rightvelocity)\n    --sim.setJointTargetVelocity(right_front_handle,rightvelocity)\n     \nend\n \nfunction sysCall_sensing()\n    -- put your sensing code here\nend\n \nfunction sysCall_cleanup()\n    -- do some clean-up here\nend\n \n-- See the user manual or the available code snippets for additional callback functions and details \n ç¬¬äºŒæ¬¡ç¨‹å¼å¤±æ•—ï¼Œæ—¥å¾Œå°‡æŒçºŒé€²é™¤éŒ¯ã€‚ \n \n \n W7 \n åˆ©ç”¨éµç›¤æ“æ§ç‰©é«”è¡Œèµ° \n \n ( ğŸ”½ç¨‹å¼ç¢¼ ) \n function sysCall_init() \n    left_handle= sim.getObjectHandle(\'left_m\')\n    right_handle= sim.getObjectHandle(\'right_m\')\n    MaxVel=2\n    leftvelocity=0\n    rightvelocity=0\n    dVel=0.5;\n    sim.setJointTargetVelocity(left_handle,leftvelocity)\n    sim.setJointTargetVelocity(right_handle,rightvelocity)\nend\n\nfunction sysCall_actuation() \n    message,auxiliaryData=sim.getSimulatorMessage()\n    while message~=-1 do\n        if (message==sim.message_keypress) then\n            if (auxiliaryData[1]==32) then\n                -- right key\n                leftvelocity=0\n                rightvelocity=0\n                sim.setJointForce(left_front_handle, 0)\n                sim.setJointForce(right_front_handle, 0)\n                break\n            else\n                sim.setJointForce(left_handle, 10000)\n                sim.setJointForce(right_handle, 10000)\n            end\n            if (auxiliaryData[1]==2007) then\n                -- up key\n                leftvelocity=(leftvelocity+rightvelocity)/2\n                rightvelocity=leftvelocity\n                leftvelocity=leftvelocity+dVel\n                rightvelocity=rightvelocity+dVel\n            end\n            if (auxiliaryData[1]==2008) then\n                -- down key\n                leftvelocity=(leftvelocity+rightvelocity)/2\n                rightvelocity=leftvelocity\n                leftvelocity=leftvelocity-dVel\n                rightvelocity=rightvelocity-dVel\n            end\n            if (auxiliaryData[1]==2009) then\n                -- left key\n                leftvelocity=leftvelocity-dVel\n                rightvelocity=rightvelocity+dVel\n            end\n            if (auxiliaryData[1]==2010) then\n                -- right key\n                leftvelocity=leftvelocity+dVel\n                rightvelocity=rightvelocity-dVel\n            end\n        end\n        message,auxiliaryData=sim.getSimulatorMessage()\n    end\n    \n    if leftvelocity>MaxVel then\n        leftvelocity=MaxVel\n    end\n    if leftvelocity<-MaxVel then\n        leftvelocity=-MaxVel\n    end\n    \n    if rightvelocity>MaxVel then\n                rightvelocity=MaxVel\n    end\n    if rightvelocity<-MaxVel then\n                rightvelocity=-MaxVel\n    end\n    \n    sim.setJointTargetVelocity(left_handle,leftvelocity)\n    sim.setJointTargetVelocity(right_handle,rightvelocity)\n    \nend  \n \n -maxvel -maxvel \n æ¨¡æ“¬å•é¡Œèˆ‡æ’è§£ \n å•é¡Œ:  ç•¶æœ¬é«”é–‹å•Ÿé‹å‹•æ¨¡æ“¬æ™‚æœƒç”¢ç”ŸéŒ¯èª¤ï¼Œå°è‡´ç”¢å“è§£é«” \n \n \n å•é¡ŒåŸå› :  è¨è«–å¾Œç™¼ç¾ï¼Œç”¢å“çš„æ¨¡æ“¬å¹²æ¶‰å¤ªå¤šä½¿å…¶ç„¡æ³•æ­£å¸¸é‹ä½œï¼ŒåŸå› æ˜¯ç”¢å“çš„è¼ªå­è·Ÿçƒé«”ä¸Šä¸¦ä¸æ˜¯å®Œæ•´çš„åœ“ï¼Œè€Œæ˜¯ç”±è¨±å¤šæ­£æ–¹å½¢çš„å°æ ¼å­æ‰€æ§‹æˆï¼Œæ‰€ä»¥åœ¨æ¨¡æ“¬æ™‚ç”¢ç”Ÿéå¤šçš„å¹²æ¶‰å½±éŸ¿é›»è…¦æ­£å¸¸æ¨¡æ“¬ï¼Œå› è€Œæ¨¡æ“¬éŒ¯èª¤ã€‚ \n \n \n å•é¡Œæ’è§£: \xa0åœ¨coppeliasimå…§ add->primitive shape->Cylinder å¢æ·»ç°¡åŒ–åœ–å½¢ä¾†ä»£æ›¿åŸæœ¬çš„è»Šè¼ªï¼Œè€ŒåŸæœ¬çš„è¼ªå­å°±åšç‚ºDiscçš„é€ å‹ã€‚ \n \n \n \n W8 Sensor Control \n å¢åŠ æ¥è¿‘å‚³æ„Ÿå™¨ä½¿ç”¢å“è‡ªå‹•è¡Œèµ°æ™‚ï¼Œä¸æœƒæ’åˆ°éšœç¤™ç‰© \n ( ğŸ”½ç¨‹å¼ç¢¼ ) \n function sysCall_init()\n    \n    \nend\n\nfunction sysCall_actuation()\n    \nend\n\nfunction sysCall_sensing()\n    \nend\n\nfunction sysCall_cleanup()\n    \nend\n\n\n\nfunction sysCall_afterDelete(inData)\n    for key,value in pairs(inData.objectHandles) do\n        print("Object with handle "..key.." was deleted")\n    end\n    \nend\n\nfunction sysCall_afterCreate(inData)\n    for key,value in pairs(inData.objectHandles) do\n        print("Object with handle "..value.." was created")\n    end\nend\n--]]\nfunction speedChange_callback(ui,id,newVal)\n    speed=minMaxSpeed[1]+(minMaxSpeed[2]-minMaxSpeed[1])*newVal/100\nend\n\nfunction sysCall_init()\n    \n    bubbleRobBase=sim.getObjectAssociatedWithScript(sim.handle_self) \n    leftMotor=sim.getObjectHandle("bubbleRob_leftMotor") \n    rightMotor=sim.getObjectHandle("bubbleRob_rightMotor") \n    noseSensor=sim.getObjectHandle("bubbleRob_sensingNose") \n    minMaxSpeed={120*math.pi/180,300*math.pi/180} \n    backUntilTime=-1 \n   \n        xml = \' \'..[[\n         \n         \n         \n        ]]\n    ui=simUI.create(xml)\n    speed=(minMaxSpeed[1]+minMaxSpeed[2])*1\n    simUI.setSliderValue(ui,1,100*(speed-minMaxSpeed[1])/(minMaxSpeed[2]-minMaxSpeed[1]))\nend\n\nfunction sysCall_actuation()\n    result=sim.readProximitySensor(noseSensor) \n    \n    if (result>0) then backUntilTime=sim.getSimulationTime()+4 end \n\n    if (backUntilTime<sim.getSimulationTime()) then\n        \n        sim.setJointTargetVelocity(leftMotor,speed)\n        sim.setJointTargetVelocity(rightMotor,speed)\n    else\n        \n        sim.setJointTargetVelocity(leftMotor,-speed/5)\n        sim.setJointTargetVelocity(rightMotor,-speed/200)\n    end\nend\n\nfunction sysCall_cleanup()\n\tsimUI.destroy(ui)\nend\n \n \n Sensoræ¨¡æ“¬å•é¡Œèˆ‡æ’è§£ \n å•é¡Œ: ç¨‹å¼èˆ‡æ„Ÿæ¸¬å™¨éƒ½ç¢ºèªç„¡èª¤å¾Œï¼Œå»é‚„æ˜¯ç„¡æ³•åšå‹•ã€‚ \n \n \n å•é¡ŒåŸå› : èˆ‡çµ„å“¡è¨è«–å¾Œç™¼ç¾ï¼Œ æ„Ÿæ¸¬å™¨éƒ½æ²’æœ‰ç™¼ç”Ÿå•é¡Œï¼Œä¸æœƒåšå‹•çš„åŸå› æ˜¯ç¨‹å¼æ‰“éŒ¯æ‰ç„¡æ³•é©…å‹•é¦¬é”ã€‚ \n \n å•é¡Œæ’è§£: æ›´æ”¹ç”¢å“ç‰©ä»¶çš„ç¨‹å¼ç¢¼å³å¯ã€‚ \n W9 \n ç¨‹å¼æ¨¡æ“¬å½±ç‰‡èˆ‡PDFå ±å‘Š \n æ–¹å‘éµæ§åˆ¶æ¨¡æ“¬ \n \n æ„Ÿæ¸¬å™¨æ¨¡æ“¬ \n \n PDFå ±å‘Š \n', 'tags': '', 'url': 'stage2-ag1.html'}, {'title': 'stage3-ag1', 'text': 'åˆ†çµ„å°ˆé¡Œæˆå“¡ï¼š \n ç¬¬ä¸€ä½æˆå“¡ï¼š 408231131 \xa0(çµ„é•·) \n Website:\xa0 40823131 Stage3-ag1 Website \n ç¬¬äºŒä½æˆå“¡ï¼š 40823108 \xa0(çµ„å“¡) \n Website:\xa0 40823108 Stage3-ag1 Website \n ç¬¬ä¸‰ä½æˆå“¡ï¼š 40823109 \xa0(çµ„å“¡) \n ç¬¬å››ä½æˆå“¡ï¼š 40823112 \xa0(çµ„å“¡) \n Website:  40823112 Stage3-ag1 Website \n ç¬¬äº”ä½æˆå“¡ï¼š 40823116 \xa0(çµ„å“¡) \n ç¬¬å…­ä½æˆå“¡ï¼š 40823123 \xa0(çµ„å“¡) \n ç¬¬ä¸ƒä½æˆå“¡ï¼š 40823136 \xa0(çµ„å“¡) \n ç¬¬å…«ä½æˆå“¡ï¼š 40823145 \xa0(çµ„å“¡) \n Website:\xa0 40823145 Stage3-ag1 Website \n \n å°ˆæ¡ˆæ²¿ç”¨çµ„é•· 408231131 \xa0Stage2çš„å°ˆæ¡ˆï¼Œä¸¦å»¶ä¼¸åŠ å…¥äº†sensorã€‚ \n å ´æ™¯æª”:\xa0 Stage3-ag1-module.ttt \xa0(æ™¯æª”ç”±çµ„é•· 408231131 æä¾›) \n \n', 'tags': '', 'url': 'stage3-ag1.html'}, {'title': 'Task1', 'text': 'è®€å– stage3_2a.txt, å»ºç«‹ Stage3 çš„åˆ†çµ„å€‰å„², åˆ†çµ„ç¶²é , ä»¥åŠå„çµ„å“¡å€‰å„²åŠç¶²é é€£çµ. \n å·²çŸ¥ \xa0 stage3_2a.txt å…§å®¹, ä»¥åŠåˆæ­¥è³‡æ–™è®€å–ç¨‹å¼: \n \n \n \n \n \n \n 1 \n 2 \n 3 \n 4 \n 5 \n 6 \n 7 \n 8 \n 9 \n 10 \n 11 \n 12 \n 13 \n 14 \n 15 \n 16 \n 17 \n 18 \n 19 \n 20 \n \n \n \n # open file, default is read mode, since txt content no chinese char4 \n # no encoding = "UTF-08" is needed \n with  open ( "stage3_2a.txt" ) as fh: \n \xa0\xa0\xa0\xa0 # readlines will read into the whole line and put into list format 23 \n \xa0\xa0\xa0\xa0 # has \\n at the end of each line 13 \n \xa0\xa0\xa0\xa0 data  =   fh.readlines() \n \xa0\xa0\xa0\xa0 data  =   [a.replace( \'4823122\' , \'40823122\' )  for   a  in   data] \n \xa0\xa0\xa0\xa0 data  =   [c.replace( \'\\t\\t\\t\\t\' ,\'\')  for   c  in   data] \n \xa0\xa0\xa0\xa0 print (data) \n #print(len(data))1 \n for   i  in   range ( len (data)): \n \xa0\xa0\xa0\xa0 group  =   data[i].rstrip( "\\n" ).split( "\\t" ) \n \xa0\xa0\xa0\xa0 print ( \'<p>\' + group[ 0 ] + \'|<a href="https://\' + group[ 1 ] + \'.github.io/stage3-ag\' + group[ 0 ][ 9 ] + \'">ç¶²ç«™</a>|<a href="https://github.com/\' + group[ 2 ] + \'/stage3-ag\' + group[ 0 ][ 9 ] + \'">å€‰å„²</a></p>\' ) \n # the following will use group data to generate needed html \n \xa0\xa0 \xa0 \n \xa0\xa0\xa0\xa0 for   j  in   range ( 2 , 18 , 2 ): \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 try : \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 print ( \'<p>\' + group[j] + \'|Website:\' + \'<a href="https://\' + group[j] + \'.github.io/cd2021\' + \'">\' + group[j] + \'</a>\' + \'|Repository:\' + \'<a href="https://github.com/\' + group[j] + \'/cd2021\' + \'">\' + group[j] + \'</a></p>\' ) \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 except : \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 continue \n \n \n \n \n \n \n \n ç¨‹å¼è§£èªª \n \n \n \n \n \n \n 1 \n \n \n \n with  open ( "stage3_2a.txt" ) as fh: \n \n \n \n \n \n \n \n é–‹å•Ÿæª”æ¡ˆ stage3_2a \n \n \n \n \n \n \n 1 \n \n \n \n data  =   fh.readlines() \n \n \n \n \n \n \n \n è®€å–æ‰€æœ‰è¡Œ(ç›´åˆ°çµæŸ) \n \n \n \n \n \n \n 1 \n \n \n \n data  =   [a.replace( \'4823122\' , \'40823122\' )  for   a  in   data] \n \n \n \n \n \n \n \n æŠŠå­—ç¬¦ä¸²ä¸­çš„oldï¼ˆèˆŠå­—ç¬¦ä¸²ï¼‰ æ›¿æ›æˆnew(æ–°å­—ç¬¦ä¸²) a.replace( \'é ˆæ”¹çš„\' , \'æ›´æ”¹æˆçš„\',æ›´æ”¹æ¬¡æ•¸ ) \n \n \n \n \n \n \n 1 \n \n \n \n data  =   [c.replace( \'\\t\\t\\t\\t\' ,\'\')  for   c  in   data] \n \n \n \n \n \n \n \n ( \'\\t\\t\\t\\t\' ,\'\')å°‡æ’åºå‡ºä¾†çš„çµæœä½œç©ºæ ¼ \n \n \n \n \n \n \n 1 \n 2 \n \n \n \n for   i  in   range ( len (data)): \n \xa0\xa0\xa0\xa0 group  =   data[i].rstrip( "\\n" ).split( "\\t" ) \n \n \n \n \n \n \n \n åˆ†ææª”æ¡ˆç¯„åœæœ‰å…­çµ„ï¼Œé€²è¡Œè¿´åœˆï¼Œè®Šæ•¸ç‚ºi \n å°‡dataåˆ—è¡¨ä¸­ç¬¬ié …ï¼Œå»é™¤å…ƒç´ \\n(æ›è¡Œ)åˆ©ç”¨\\t(ç©ºæ ¼)åˆ†å‰² \n \n \n \n \n \n \n 1 \n \n \n \n print ( \'<p>\' + group[ 0 ] + \'|<a href="https://\' + group[ 1 ] + \'.github.io/stage3-ag\' + group[ 0 ][ 9 ] + \'">ç¶²ç«™</a>|<a href="https://github.com/\' + group[ 2 ] + \'/stage3-ag\' + group[ 0 ][ 9 ] + \'">å€‰å„²</a></p>\' ) \n \n \n \n \n \n \n \n group[0][9]=ç¬¬0å€‹ç¬¬9ä½ \n printå‡ºgroup list ä¸­çš„å…ƒç´ ï¼Œæ”¾å…¥htmlæ ¼å¼ï¼Œä¾åºåˆ—å‡º \n \n \n \n \n \n \n 1 \n \n \n \n for   j  in   range ( 2 , 18 , 2 ): \n \n \n \n \n \n \n \n å¾2é–‹å§‹æ¯æ¬¡è·³2æ ¼æœ€å¤šè·³åˆ°16ä¸å¯è¶…é18 \n \n \n \n \n \n \n 1 \n 2 \n 3 \n 4 \n \n \n \n try : \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 print ( \'<p>\' + group[j] + \'|Website:\' + \'<a href="https://\' + group[j] + \'.github.io/cd2021\' + \'">\' + group[j] + \'</a>\' + \'|Repository:\' + \'<a href="https://github.com/\' + group[j] + \'/cd2021\' + \'">\' + group[j] + \'</a></p>\' ) \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 except : \n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 continue \n \n \n \n \n \n \n \n ç”¨printå‡ºgroup list ä¸­çš„å…ƒç´ ï¼Œæ”¾å…¥htmlæ ¼å¼ï¼Œä¾åºåˆ—å‡ºä¾† \n åˆ—å‡ºå„åˆ†çµ„å€‰å„², åˆ†çµ„ç¶²ç«™èˆ‡å­¸å“¡å€‰å„²åŠå­¸å“¡ç¶²ç«™é€£çµ: \n stage3_ag1 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823131 | Website: 40823131 \xa0 | Repository: 40823131 \xa0 | Group Website: 40823131 \n a40823112 | Website: a40823112 \xa0 | Repository: a40823112 \xa0 | Group Website: a40823112 \n 40823123 | Website: 40823123 \xa0 | Repository: 40823123 \xa0 | Group Website: 40823123 \n 40823145 | Website: 40823145 \xa0 | Repository: 40823145 \xa0 | Group Website: 40823145 \n 40823136 | Website: 40823136 \xa0 | Repository: 40823136 \xa0 | Group Website: 40823136 \n 40823109 | Website: 40823109 \xa0 | Repository: 40823109 \xa0 | Group Website: 40823109 \n 40823116 | Website: 40823116 \xa0 | Repository: 40823116 \xa0 | Group Website: 40823116 \n 40823108 | Website: 40823108 \xa0 | Repository: 40823108 \xa0 | Group Website: 40823108 \n stage3_ag2 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823151 | Website: 40823151 \xa0 | Repository: 40823151 \xa0 | Group Website: 40823151 \n 40623121 | Website: 40623121 \xa0 | Repository: 40623121 \xa0 | Group Website: 40623121 \n 40871106 | Website: 40871106 \xa0 | Repository: 40871106 \xa0 | Group Website: 40871106 \n 40823102 | Website: 40823102 \xa0 | Repository: 40823102 \xa0 | Group Website: 40823102 \n 40823104 | Website: 40823104 \xa0 | Repository: 40823104 \xa0 | Group Website: 40823104 \n 40823106 | Website: 40823106 \xa0 | Repository: 40823106 \xa0 | Group Website: 40823106 \n 40823101 | Website: 40823101 \xa0 | Repository: 40823101 \xa0 | Group Website: 40823101 \n 40823132 | Website: 40823132 \xa0 | Repository: 40823132 \xa0 | Group Website: 40823132 \n stage3_ag3 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823119 | Website: 40823119 \xa0 | Repository: 40823119 \xa0 | Group Website: 40823119 \n 40823150 | Website: 40823150 \xa0 | Repository: 40823150 \xa0 | Group Website: 40823150 \n 40823103 | Website: 40823103 \xa0 | Repository: 40823103 \xa0 | Group Website: 40823103 \n 40823107 | Website: 40823107 \xa0 | Repository: 40823107 \xa0 | Group Website: 40823107 \n 40523252 | Website: 40523252 \xa0 | Repository: 40523252 \xa0 | Group Website: 40523252 \n 40823154 | Website: 40823154 \xa0 | Repository: 40823154 \xa0 | Group Website: 40823154 \n stage3_ag4 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823142 | Website: 40823142 \xa0 | Repository: 40823142 \xa0 | Group Website: 40823142 \n 40823144 | Website: 40823144 \xa0 | Repository: 40823144 \xa0 | Group Website: 40823144 \n 40823127 | Website: 40823127 \xa0 | Repository: 40823127 \xa0 | Group Website: 40823127 \n 40823148 | Website: 40823148 \xa0 | Repository: 40823148 \xa0 | Group Website: 40823148 \n 40823121 | Website: 40823121 \xa0 | Repository: 40823121 \xa0 | Group Website: 40823121 \n 40823135 | Website: 40823135 \xa0 | Repository: 40823135 \xa0 | Group Website: 40823135 \n 40823114 | Website: 40823114 \xa0 | Repository: 40823114 \xa0 | Group Website: 40823114 \n 40823146 | Website: 40823146 \xa0 | Repository: 40823146 \xa0 | Group Website: 40823146 \n stage3_ag5 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823111 | Website: 40823111 \xa0 | Repository: 40823111 \xa0 | Group Website: 40823111 \n 40823115 | Website: 40823115 \xa0 | Repository: 40823115 \xa0 | Group Website: 40823115 \n 40823128 | Website: 40823128 \xa0 | Repository: 40823128 \xa0 | Group Website: 40823128 \n 40823120 | Website: 40823120 \xa0 | Repository: 40823120 \xa0 | Group Website: 40823120 \n 40823140 | Website: 40823140 \xa0 | Repository: 40823140 \xa0 | Group Website: 40823140 \n 40823124 | Website: 40823124 \xa0 | Repository: 40823124 \xa0 | Group Website: 40823124 \n 40823139 | Website: 40823139 \xa0 | Repository: 40823139 \xa0 | Group Website: 40823139 \n 40823126 | Website: 40823126 \xa0 | Repository: 40823126 \xa0 | Group Website: 40823126 \n stage3_ag6 | \xa0 ç¶²ç«™ \xa0 | \xa0 å€‰å„² \n 40823152 | Website: 40823152 \xa0 | Repository: 40823152 \xa0 | Group Website: 40823152 \n 40823110 | Website: 40823110 \xa0 | Repository: 40823110 \xa0 | Group Website: 40823110 \n 40823122 | Website: 40823122 \xa0 | Repository: 40823122 \xa0 | Group Website: 40823122 \n 40823125 | Website: 40823125 \xa0 | Repository: 40823125 \xa0 | Group Website: 40823125 \n 40823117 | Website: 40823117 \xa0 | Repository: 40823117 \xa0 | Group Website: 40823117 \n 40823129 | Website: 40823129 \xa0 | Repository: 40823129 \xa0 | Group Website: 40823129 \n 40823149 | Website: 40823149 \xa0 | Repository: 40823149 \xa0 | Group Website: 40823149 \n 40823153 | Website: 40823153 \xa0 | Repository: 40823153 \xa0 | Group Website: 40823153 \n \n', 'tags': '', 'url': 'Task1.html'}, {'title': 'Task2', 'text': 'RemoteAPI \n Python3 remote api ç¨‹å¼æ§åˆ¶Coppeliasim éœ€è¦  sim.py ,  simConst.py  èˆ‡  remoteApi.dll  ç­‰ä¸‰å€‹æª”æ¡ˆï¼Œå°‡ä¸‰å€‹æª”æ¡ˆèˆ‡è¦æ“æ§çš„.pyæª”æ”¾åœ¨åŒä¸€å€‹è³‡æ–™å¤¾ä¸­ \n \n å°‡.pyæ”¾å…¥ç·¨è­¯å™¨ä¿®æ”¹ \n \n', 'tags': '', 'url': 'Task2.html'}, {'title': 'W13', 'text': 'ç‚ºå› æ‡‰æ ¡æ–¹å…¬å‘Š: \n ã€Œåš´é‡ç‰¹æ®Šå‚³æŸ“æ€§è‚ºç‚ã€ç–«æƒ…èª²ç¨‹å½ˆæ€§è™•ç†äº‹é …_é è·æ•™å­¸å…¬å‘Š_0515D(ä¸­è‹±ç‰ˆæœ¬).pdf \n 5æœˆ17æ—¥è‡³5æœˆ30æ—¥å…¨æ ¡æ‰€æœ‰èª²ç¨‹æ”¹æ¡é è·æ•™å­¸. \n æœ¬èª²ç¨‹å°‡åœ¨ W13-W14 é€±æ¡å–åŒæ­¥ç·šä¸Šæ¨¡å¼ä¸Šèª², è«‹æ‰€æœ‰ä¿®èª²å­¸å“¡å¯†åˆ‡æ³¨æ„\xa0 https://gitter.im/mdecourse/cd2021  ä¸Šä¹‹å…¬å‘Š, ç·šä¸ŠåŒæ­¥ä¸Šèª²å°‡æ¡ OBS + Youtube é…åˆ  https://meet.google.com  ç›´æ’­æ–¹å¼é€²è¡Œ, è«‹å„å­¸å“¡å±†æ™‚å¿…é ˆäº‹å…ˆç™»å…¥ github å¸³è™Ÿèˆ‡ @gm é›»å­éƒµç®±å¸³è™Ÿ, ä»¥ä¾¿åœ¨èª²ç¨‹ç›´æ’­ç¶²ç«™ä¸Šç•™è¨€è¨è«–. \n åŒæ­¥ç›´æ’­èª²ç¨‹é€²è¡Œéç¨‹å°‡æŒ‡å®šå„çµ„å“¡é‡å°èª²ç¨‹å…§å®¹é€²è¡Œç›´æ’­æ“ä½œ, è² è²¬ç›´æ’­å­¸å“¡å¿…é ˆå³æ™‚å°‡ç›´æ’­ç¶²å€å…¬å¸ƒæ–¼  https://gitter.im/mdecourse/cd2021 , ä»¥ä¾¿èˆ‡å…¶ä»–å­¸å“¡åŠè€å¸«é€²è¡Œäº’å‹•. \n èª²ç¨‹åŒæ­¥ç›´æ’­æ™‚æ®µå°‡èˆ‡ä¸Šèª²æ™‚æ®µç›¸åŒ, æ¯æ®µç›´æ’­ä¸­é–“çš„æš«åœæ™‚é–“å°‡è¦–å¯¦éš›æƒ…æ³æ±ºå®š. \n \n æœ¬é€±å°çµ„åŒæ­¥ç›´æ’­ \n \n RoboDK: \n 1.é–‹å•Ÿstart.bat \n 2.é–‹å•Ÿå¯æ”œç‰ˆrobodk:E:\\robodk522_portable\\bin\\RoboDK.exe \n 3.robodké–‹å•Ÿæª”æ¡ˆé¸å–:E:\\robodk522_portable\\examples\\pick_and_place\\pick_and_place_with_python.rdk \n 4é–‹å•ŸSciTEä¸¦å°‡ä¸‹æ–¹è·¯å¾‘æª”æ¡ˆæ”¾å…¥E:\\robodk522_portable\\examples\\pick_and_place\\pick_and_place.py é»é¸Tools-->GO \n # KMOLab Portable RoboDK pick and place\nfrom robolink import *    # API to communicate with robodk\nfrom robodk import *      # robodk robotics toolbox\n \n# Setup global parameters\nBALL_DIAMETER = 100 # diameter of one ball\nAPPROACH = 100      # approach distance to grab each part, in mm\nnTCPs = 6           # number of TCP\'s in the tool\n \n#----------------------------------------------\n# Function definitions\n \ndef box_calc(BALLS_SIDE=4, BALLS_MAX=None):\n    """Calculate a list of points (ball center) as if the balls were stored in a box"""\n    if BALLS_MAX is None: BALLS_MAX = BALLS_SIDE**3\n    xyz_list = []\n    for h in range(BALLS_SIDE):\n        for i in range(BALLS_SIDE):\n            for j in range(BALLS_SIDE):\n                xyz_list = xyz_list + [[(i+0.5)*BALL_DIAMETER, (j+0.5)*BALL_DIAMETER, (h+0.5)*BALL_DIAMETER]]\n                if len(xyz_list) >= BALLS_MAX:\n                    return xyz_list\n    return xyz_list\n \ndef pyramid_calc(BALLS_SIDE=4):\n    """Calculate a list of points (ball center) as if the balls were place in a pyramid"""\n    #the number of balls can be calculated as: int(BALLS_SIDE*(BALLS_SIDE+1)*(2*BALLS_SIDE+1)/6)\n    BALL_DIAMETER = 100\n    xyz_list = []\n    sqrt2 = 2**(0.5)\n    for h in range(BALLS_SIDE):\n        for i in range(BALLS_SIDE-h):\n            for j in range(BALLS_SIDE-h):\n                height = h*BALL_DIAMETER/sqrt2 + BALL_DIAMETER/2\n                xyz_list = xyz_list + [[i*BALL_DIAMETER + (h+1)*BALL_DIAMETER*0.5, j*BALL_DIAMETER + (h+1)*BALL_DIAMETER*0.5, height]]\n    return xyz_list\n \ndef balls_setup(frame, positions):\n    """Place a list of balls in a reference frame. The reference object (ball) must have been previously copied to the clipboard."""\n    nballs = len(positions)\n    step = 1.0/(nballs - 1)\n    for i in range(nballs):\n        newball = frame.Paste()\n        newball.setName(\'ball \' + str(i)) #set item name\n        newball.setPose(transl(positions[i])) #set item position with respect to parent\n        newball.setVisible(True, False) #make item visible but hide the reference frame\n        newball.Recolor([1-step*i, step*i, 0.2, 1]) #set RGBA color\n \ndef cleanup_balls(parentnodes):\n    """Delete all child items whose name starts with \\"ball\\", from the provided list of parent items."""\n    todelete = []\n    for item in parentnodes:\n        todelete = todelete + item.Childs()\n \n    for item in todelete:\n        if item.Name().startswith(\'ball\'):\n            item.Delete()\n \ndef TCP_On(toolitem, tcp_id):\n    """Attach the closest object to the toolitem Htool pose,\n    furthermore, it will output appropriate function calls on the generated robot program (call to TCP_On)"""\n    toolitem.AttachClosest()\n    toolitem.RDK().RunMessage(\'Set air valve %i on\' % (tcp_id+1))\n    toolitem.RDK().RunProgram(\'TCP_On(%i)\' % (tcp_id+1));\n         \ndef TCP_Off(toolitem, tcp_id, itemleave=0):\n    """Detaches the closest object attached to the toolitem Htool pose,\n    furthermore, it will output appropriate function calls on the generated robot program (call to TCP_Off)"""\n    toolitem.DetachAll(itemleave)\n    toolitem.RDK().RunMessage(\'Set air valve %i off\' % (tcp_id+1))\n    toolitem.RDK().RunProgram(\'TCP_Off(%i)\' % (tcp_id+1));\n \n \n#----------------------------------------------------------\n# The program starts here:\n \n# Any interaction with RoboDK must be done through RDK:\nRDK = Robolink()\n \n# Turn off automatic rendering (faster)\nRDK.Render(False)\n \n#RDK.Set_Simulation_Speed(500); # set the simulation speed\n \n# Gather required items from the station tree\nrobot = RDK.Item(\'Fanuc M-710iC/50\')\nrobot_tools = robot.Childs()\n#robottool = RDK.Item(\'MainTool\')\nframe1 = RDK.Item(\'Table 1\')\nframe2 = RDK.Item(\'Table 2\')\n \n# Copy a ball as an object (same as CTRL+C)\nballref = RDK.Item(\'reference ball\')\nballref.Copy()\n \n# Run a pre-defined station program (in RoboDK) to replace the two tables\nprog_reset = RDK.Item(\'Replace objects\')\nprog_reset.RunProgram()\n \n# Call custom procedure to remove old objects\ncleanup_balls([frame1, frame2])\n \n# Make a list of positions to place the objects\nframe1_list = pyramid_calc(4)\nframe2_list = pyramid_calc(4)\n \n# Programmatically place the objects with a custom-made procedure\nballs_setup(frame1, frame1_list)\n \n# Delete previously generated tools\nfor tool in robot_tools:\n    if tool.Name().startswith(\'TCP\'):\n        tool.Delete()\n         \n# Calculate tool frames for the suction cup tool of 6 suction cups\nTCP_list = []\nfor i in range(nTCPs):\n    TCPi_pose = transl(0,0,100)*rotz((360/nTCPs)*i*pi/180)*transl(125,0,0)*roty(pi/2)\n    TCPi = robot.AddTool(TCPi_pose, \'TCP %i\' % (i+1))\n    TCP_list.append(TCPi)\n \nTCP_0 = TCP_list[0]\n \n# Turn on automatic rendering\nRDK.Render(True)\n \n# Move balls    \nrobot.setPoseTool(TCP_list[0])\nnballs_frame1 = len(frame1_list)\nnballs_frame2 = len(frame2_list)\nidTake = nballs_frame1 - 1\nidLeave = 0\nidTCP = 0\ntarget_app_frame = transl(2*BALL_DIAMETER, 2*BALL_DIAMETER, 4*BALL_DIAMETER)*roty(pi)*transl(0,0,-APPROACH)\n \nwhile idTake >= 0:\n    # ------------------------------------------------------------------\n    # first priority: grab as many balls as possible\n    # the tool is empty at this point, so take as many balls as possible (up to a maximum of 6 -> nTCPs)\n    ntake = min(nTCPs, idTake + 1)\n \n    # approach to frame 1\n    robot.setPoseFrame(frame1)\n    robot.setPoseTool(TCP_0)\n    robot.MoveJ([0,0,0,0,10,-200])\n    robot.MoveJ(target_app_frame)\n \n    # grab ntake balls from frame 1\n    for i in range(ntake):\n        TCPi = TCP_list[i]\n        robot.setPoseTool(TCPi)\n        # calculate target wrt frame1: rotation about Y is needed since Z and X axis are inverted\n        target = transl(frame1_list[idTake])*roty(pi)*rotx(30*pi/180)\n        target_app = target*transl(0,0,-APPROACH)\n        idTake = idTake - 1       \n        robot.MoveL(target_app)\n        robot.MoveL(target)\n        TCP_On(TCPi, i)\n        robot.MoveL(target_app)\n  \n    # ------------------------------------------------------------------\n    # second priority: unload the tool     \n    # approach to frame 2 and place the tool balls into table 2\n    robot.setPoseTool(TCP_0)\n    robot.MoveJ(target_app_frame)\n    robot.MoveJ([0,0,0,0,10,-200])\n    robot.setPoseFrame(frame2)    \n    robot.MoveJ(target_app_frame)\n    for i in range(ntake):\n        TCPi = TCP_list[i]\n        robot.setPoseTool(TCPi)\n        if idLeave > nballs_frame2-1:\n            raise Exception("No room left to place objects in Table 2")\n         \n        # calculate target wrt frame1: rotation of 180 about Y is needed since Z and X axis are inverted\n        target = transl(frame2_list[idLeave])*roty(pi)*rotx(30*pi/180)\n        target_app = target*transl(0,0,-APPROACH)\n        idLeave = idLeave + 1       \n        robot.MoveL(target_app)\n        robot.MoveL(target)\n        TCP_Off(TCPi, i, frame2)\n        robot.MoveL(target_app)\n \n    robot.MoveJ(target_app_frame)\n \n# Move home when the robot finishes\nrobot.MoveJ([0,0,0,0,10,-200]) \n', 'tags': '', 'url': 'W13.html'}, {'title': 'W14', 'text': '', 'tags': '', 'url': 'W14.html'}, {'title': 'MTB_Robot', 'text': "1 \n æ‰‹è‡‚ç¨‹å¼: \n function sysCall_init()\n    corout=coroutine.create(coroutineMain)\nend\n  \nfunction sysCall_actuation()\n    if coroutine.status(corout)~='dead' then\n        local ok,errorMsg=coroutine.resume(corout)\n        if errorMsg then\n            error(debug.traceback(corout,errorMsg),2)\n        end\n    else\n        corout=coroutine.create(coroutineMain)\n    end\nend\n  \nfunction movCallback(config,vel,accel,handles)\n    for i=1,#handles,1 do\n        if sim.getJointMode(handles[i])==sim.jointmode_force and sim.isDynamicallyEnabled(handles[i]) then\n            sim.setJointTargetPosition(handles[i],config[i])\n        else  \n            sim.setJointPosition(handles[i],config[i])\n        end\n    end\nend\n  \nfunction moveToConfig(handles,maxVel,maxAccel,maxJerk,targetConf,enable)\n    local currentConf={}\n    for i=1,#handles,1 do\n        currentConf[i]=sim.getJointPosition(handles[i])\n        targetConf[i]=targetConf[i]*math.pi/180\n    end\n    sim.moveToConfig(-1,currentConf,nil,nil,maxVel,maxAccel,maxJerk,targetConf,nil,movCallback,handles)\n  \n    if enable then\n        sim.writeCustomDataBlock(gripperHandle,'activity','on')\n    else\n        sim.writeCustomDataBlock(gripperHandle,'activity','off')\n    end\nend\n  \nfunction coroutineMain()\n    modelBase=sim.getObjectHandle(sim.handle_self)\n    gripperHandle=sim.getObjectHandle('suctionPad')\n    modelName=sim.getObjectName(modelBase)\n    motorHandles = {}\n    for i=1,4,1 do\n        motorHandles[i]=sim.getObjectHandle('MTB_axis'..i)\n    end\n    local vel=60\n    local accel=10\n    local jerk=10\n    local maxVel={vel*math.pi/180,vel*math.pi/180,vel*math.pi/180,vel*math.pi/180}\n    local maxAccel={accel*math.pi/180,accel*math.pi/180,accel*math.pi/180,accel*math.pi/180}\n    local maxJerk={jerk*math.pi/180,jerk*math.pi/180,jerk*math.pi/180,jerk*math.pi/180}\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{0,0,0,0},true)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{0,0,1.9,0},true)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{0,0,-1.9,0},true)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{-160,-43.5,0,203.5},false)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{160,43.5,0,203.5},false)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{160,43.5,1.90,-203.5},true)\n    moveToConfig(motorHandles,maxVel,maxAccel,maxJerk,{160,43.5,-1.90,-203.5},true)\nend \n å¸ç›¤ç¨‹å¼: \n function sysCall_init()\n    modelBase=sim.getObjectHandle(sim.handle_self)\n    s=sim.getObjectHandle('suctionPadSensor')\n    l=sim.getObjectHandle('suctionPadLoopClosureDummy1')\n    l2=sim.getObjectHandle('suctionPadLoopClosureDummy2')\n    b=sim.getObjectHandle('suctionPadBodyRespondable')\n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\n    suctionPadLink=sim.getObjectHandle('suctionPadLink')\n    local gripperBase=sim.getObjectHandle(sim.handle_self)\n    infiniteStrength=true\n    maxPullForce=3\n    maxShearForce=1\n    maxPeelTorque=0.1\n  \nend\n  \nfunction sysCall_cleanup() \n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\nend\n  \nfunction sysCall_sensing() \n    parent=sim.getObjectParent(l)\n    local on=sim.readCustomDataBlock(modelBase,'activity')=='on'\n    if not on then\n        if (parent~=b) then\n            sim.setLinkDummy(l,-1)\n            sim.setObjectParent(l,b,true)\n            m=sim.getObjectMatrix(l2,-1)\n            sim.setObjectMatrix(l,-1,m)\n        end\n    else\n        if (parent==b) then\n            index=0\n            while true do\n                shape=sim.getObjects(index,sim.object_shape_type)\n                if (shape==-1) then\n                    break\n                end\n                local res,val=sim.getObjectInt32Parameter(shape,sim.shapeintparam_respondable)\n                if (shape~=b) and (val~=0) and (sim.checkProximitySensor(s,shape)==1) then\n                    -- Ok, we found a respondable shape that was detected\n                    -- We connect to that shape:\n                    -- Make sure the two dummies are initially coincident:\n                    sim.setObjectParent(l,b,true)\n                    m=sim.getObjectMatrix(l2,-1)\n                    sim.setObjectMatrix(l,-1,m)\n                    -- Do the connection:\n                    sim.setObjectParent(l,shape,true)\n                    sim.setLinkDummy(l,l2)\n                    break\n                end\n                index=index+1\n            end\n        else\n            -- Here we have an object attached\n            if (infiniteStrength==false) then\n                -- We might have to conditionally beak it apart!\n                result,force,torque=sim.readForceSensor(suctionPadLink) -- Here we read the median value out of 5 values (check the force sensor prop. dialog)\n                if (result>0) then\n                    breakIt=false\n                    if (force[3]>maxPullForce) then breakIt=true end\n                    sf=math.sqrt(force[1]*force[1]+force[2]*force[2])\n                    if (sf>maxShearForce) then breakIt=true end\n                    if (torque[1]>maxPeelTorque) then breakIt=true end\n                    if (torque[2]>maxPeelTorque) then breakIt=true end\n                    if (breakIt) then\n                        -- We break the link:\n                        sim.setLinkDummy(l,-1)\n                        sim.setObjectParent(l,b,true)\n                        m=sim.getObjectMatrix(l2,-1)\n                        sim.setObjectMatrix(l,-1,m)\n                    end\n                end\n            end\n        end\n    end\nend \n", 'tags': '', 'url': 'MTB_Robot.html'}, {'title': 'gitlab', 'text': '\n Gitlab åŒæ­¥ \n è¦åˆ©ç”¨ Gitlab åŒæ­¥ä½æ–¼ Github ä¸Šçš„ CMSiMDE å€‰å„²èˆ‡ Github Pages ç¶²é , éœ€è¦æ³¨æ„ä»¥ä¸‹å…©å€‹è¦é»: \n \n å®Œæˆ \xa0 \xa0 \xa0 å¸³è™Ÿç”³è«‹èˆ‡é©—è­‰. \n åœ¨åŸå…ˆ Github å€‰å„²ä¸­å¢åŠ ä¸€å€‹ .gitlab-ci.yml æª”æ¡ˆ, ç›®çš„æ˜¯ç”¨ä¾†ç”¢ç”Ÿèˆ‡å€‰å„²å°æ‡‰çš„ Gitlab Pages ç¶²ç«™. \n \n step1. ç”³è«‹å¸³è™Ÿ https://gitlab.com/users/sign_up \n step2.é»æ“Šä¸Šæ–¹åŠ è™Ÿæ–°å¢New project -> Create blank project \n \n step3. æŠŠgithubçš„è³‡æ–™æ¨åˆ°Gitlabä¸Šé¢ \n \n \n \n \n \n \n \n \n \n \n \n Y:\\>cd tmp/cd2021  \n Y:\\tmp\\cd2021>git push gitlab\xa0  \n \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'gitlab.html'}, {'title': 'W15', 'text': '\n \n We saw this simple two-link robot in the previous lecture about forward kinematics. \n æˆ‘å€‘åœ¨å‰é¢çœ‹åˆ°äº†é€™å€‹ç°¡å–®çš„é›™é€£æ¡¿æ©Ÿå™¨äººé—œæ–¼æ­£å‘é‹å‹•å­¸çš„è¬›åº§ã€‚ \n The tooltip pose of this robot is described simply by two numbers, the coordinates x and y with respect to the world coordinate frame. \n æè¿°äº†è©²æ©Ÿå™¨äººçš„å·¥å…·æç¤ºä½å§¿ ç°¡å–®åœ°ç”±å…©å€‹æ•¸å­—ï¼Œåæ¨™ x å’Œ y ç›¸å°æ–¼ä¸–ç•Œåæ¨™ç³»ã€‚ \n So, the problem here is that given x and y,we want to determine the joined angles, Q1 and Q2. \n æ‰€ä»¥ï¼Œé€™è£¡çš„å•é¡Œæ˜¯ï¼Œçµ¦å®š x å’Œ yï¼Œæˆ‘å€‘è¦ç¢ºå®šé€£æ¥çš„è§’åº¦ Q1 å’Œ Q2ã€‚ \n The solution that weâ€™re going to follow in this particular section is a geometric one. \n æˆ‘å€‘å°‡éµå¾ªçš„è§£æ±ºæ–¹æ¡ˆåœ¨é€™å€‹ç‰¹å®šçš„éƒ¨åˆ†æ˜¯ä¸€å€‹å¹¾ä½•ä¸€ã€‚ \n Weâ€™re going to start with a simple piece of construction. \n æˆ‘å€‘å°‡å¾ä¸€å€‹ç°¡å–®çš„ä½œå“é–‹å§‹çš„å»ºè¨­ã€‚  \n Weâ€™re going to overlay the red triangle on top of our robot. \n æˆ‘å€‘å°‡è¦†è“‹ç´…è‰²ä¸‰è§’å½¢åœ¨æˆ‘å€‘çš„æ©Ÿå™¨äººä¹‹ä¸Šã€‚ \n We know that the end point coordinate is x, y, so the vertical height of the triangle is y, the horizontal width is x. \n æˆ‘å€‘çŸ¥é“çµ‚é»åæ¨™æ˜¯xï¼Œ yï¼Œæ‰€ä»¥ä¸‰è§’å½¢çš„å‚ç›´é«˜åº¦ æ˜¯ yï¼Œæ°´å¹³å¯¬åº¦æ˜¯ xã€‚ \n And, using Pythagoras theorem, we can writer squared equals x squared plus y squared. \n ä¸¦ä¸”ï¼Œä½¿ç”¨ç•¢é”å“¥æ‹‰æ–¯å®šç†ï¼Œæˆ‘å€‘å¯ä»¥å¯«å‡º r å¹³æ–¹ç­‰æ–¼ x å¹³æ–¹åŠ ä¸Š y å¹³æ–¹ã€‚ Now, weâ€™re going to look at this triangle highlighted here in red and we want to determine the angle alpha. \n ç¾åœ¨ï¼Œæˆ‘å€‘è¦çœ‹çœ‹é€™å€‹ä¸‰è§’å½¢ æ­¤è™•ä»¥ç´…è‰²çªå‡ºé¡¯ç¤ºï¼Œæˆ‘å€‘æƒ³ç¢ºå®š è§’åº¦Î±ã€‚ \n In order to do that, we need to use the cosine rule. \n ç‚ºäº†åšåˆ°é€™ä¸€é»ï¼Œæˆ‘å€‘éœ€è¦ä½¿ç”¨é¤˜å¼¦è¦å‰‡ã€‚ And, if youâ€™re a little rusty on the cosine rule, here is a bit of a refresher. \n è€Œä¸”ï¼Œå¦‚æœä½ å°ä½™å¼¦æœ‰é»ç”Ÿç– è¦å‰‡ï¼Œé€™è£¡æœ‰ä¸€é»è¤‡ç¿’ã€‚ \n We have an arbitrary triangle. \n æˆ‘å€‘æœ‰ä¸€å€‹ä»»æ„ä¸‰è§’å½¢ã€‚ \n We donâ€™t have to have any right angles in it and weâ€™re going to label the length of this edge as A and the angle opposite that edge, weâ€™re going to label as little a. \n  æˆ‘å€‘ä¸å¿…æœ‰ä»»ä½•ç›´è§’ å®ƒï¼Œæˆ‘å€‘å°‡æ¨™è¨˜é•·åº¦ é€™æ¢é‚Šä½œç‚º A å’Œç›¸åçš„è§’åº¦ é‚Šç·£ï¼Œæˆ‘å€‘å°‡æ¨™è¨˜ç‚ºå° aã€‚ \n And, we do the same for this edge and this angle, and this edge and this angle. \n è€Œä¸”ï¼Œæˆ‘å€‘å°é€™æ¢é‚Šå’Œé€™æ¢é‚ŠåšåŒæ¨£çš„äº‹æƒ… è§’åº¦ï¼Œé‚„æœ‰é€™æ¢é‚Šå’Œé€™å€‹è§’ã€‚ \n So, all together, the sides are labelled capitals A, B and C, and the angles are labelled little a, little b, and little c. \n æ‰€ä»¥ï¼Œç¸½è€Œè¨€ä¹‹ï¼Œé›™æ–¹éƒ½è¢«æ¨™è¨˜ç‚ºé¦–éƒ½ Aã€B å’Œ Cï¼Œè§’åº¦æ¨™è¨˜ç‚ºå° aã€å°bå’Œå°cã€‚ \n So, the cosine rule is simply this relationship here. \n æ‰€ä»¥ï¼Œé¤˜å¼¦è¦å‰‡å°±æ˜¯é€™ç¨®é—œä¿‚ é€™è£¡ã€‚ \n Itâ€™s a bit like Pythagorasâ€™ theorem except for this extra term on the end with the cos a in it. \n é€™æœ‰é»åƒç•¢é”å“¥æ‹‰æ–¯å®šç†ï¼Œé™¤äº† å°æ–¼é€™å€‹é¡å¤–çš„è¡“èªï¼Œæœ€å¾Œçš„ cos ä¸€å€‹åœ¨è£¡é¢ã€‚ \n Now, letâ€™s apply the cosine rule to the particular triangle we looked at a moment ago. \n ç¾åœ¨ï¼Œè®“æˆ‘å€‘å°‡é¤˜å¼¦è¦å‰‡æ‡‰ç”¨æ–¼æˆ‘å€‘çœ‹äº†ä¸€æœƒå…’ç‰¹å®šçš„ä¸‰è§’å½¢å‰ã€‚  \n Itâ€™s pretty straightforward to write down this particular relationship. \n å¯«ä¸‹ä¾†å¾ˆç°¡å–®é€™ç¨®ç‰¹æ®Šçš„é—œä¿‚ã€‚ \n We can isolate the term cos alpha which gives us the angle alpha that weâ€™re interested in. \n æˆ‘å€‘å¯ä»¥éš”é›¢è¡“èª cos alphaï¼Œå®ƒçµ¦å‡ºæˆ‘å€‘æ„Ÿèˆˆè¶£çš„è§’åº¦Î± åœ¨ã€‚ \n And, itâ€™s defined in terms of the constant link lengths, A1 and A2 and the position of the end effector, x and y. \n è€Œä¸”ï¼Œå®ƒæ˜¯æ ¹æ“šå¸¸æ•¸å®šç¾©çš„éˆæ¥é•·åº¦ï¼ŒA1 å’Œ A2 ä»¥åŠä½ç½®æœ«ç«¯åŸ·è¡Œå™¨ï¼Œx å’Œ yã€‚ \n We can write this simple relationship between the angles alpha and Q2. \n æˆ‘å€‘å¯ä»¥å¯«å‡ºé€™å€‹ç°¡å–®çš„é—œä¿‚è§’Î±å’ŒQ2ã€‚  \n And, we know from the shape of the cosine function that cos of Q2 must be equal to negative of cos alpha. \n è€Œä¸”ï¼Œæˆ‘å€‘å¾é¤˜å¼¦çš„å½¢ç‹€çŸ¥é“ Q2 çš„ cos å¿…é ˆç­‰æ–¼è² çš„å‡½æ•¸ cos é˜¿çˆ¾æ³•ã€‚ This time, letâ€™s just write an expression for the cosine of the joined angle Q2. \n é€™ä¸€æ¬¡ï¼Œæˆ‘å€‘åªå¯«ä¸€å€‹è¡¨é”å¼å°æ–¼é€£æ¥è§’ Q2 çš„é¤˜å¼¦ã€‚ \n Now, weâ€™re going to draw yet another red triangle and weâ€™re going apply some simple trigonometry here. \n ç¾åœ¨ï¼Œæˆ‘å€‘è¦å†ç•«ä¸€å€‹ç´…è‰² ä¸‰è§’å½¢ï¼Œæˆ‘å€‘å°‡æ‡‰ç”¨ä¸€äº›ç°¡å–®çš„ ä¸‰è§’å‡½æ•¸åœ¨é€™è£¡ã€‚ \n If we know Q2, then we know this length and this length of the red triangle. \n å¦‚æœæˆ‘å€‘çŸ¥é“ Q2ï¼Œé‚£éº¼æˆ‘å€‘å°±çŸ¥é“é€™å€‹é•·åº¦å’Œé€™å€‹ç´…è‰²ä¸‰è§’å½¢çš„é•·åº¦ã€‚ We can write this relationship for the sine of the joined angle Q2. \n  æˆ‘å€‘å¯ä»¥æŠŠé€™å€‹é—œä¿‚å¯«æˆæ­£å¼¦ çš„é€£æ¥è§’ Q2ã€‚ \n Now, we can consider this bigger triangle whose angle is beta and this side length of the triangle is given here in blue. \n ç¾åœ¨ï¼Œæˆ‘å€‘å¯ä»¥è€ƒæ…®é€™å€‹æ›´å¤§çš„ä¸‰è§’å½¢ å…¶è§’ç‚ºÎ²ï¼Œæ­¤é‚Šé•·ç‚º ä¸‰è§’å½¢åœ¨é€™é‡Œä»¥è—è‰²çµ¦å‡ºã€‚ \n And, the length of the other side of the triangle is this. \n  ä¸¦ä¸”ï¼Œé€™æ˜¯ä¸‰è§’å½¢å¦ä¸€é‚Šçš„é•·åº¦ã€‚ \n So, now we can write an expression for the angle beta in terms of these parameters here. \n æ‰€ä»¥ï¼Œç¾åœ¨æˆ‘å€‘å¯ä»¥å¯«ä¸€å€‹è¡¨é”å¼ é€™è£¡çš„é€™äº›åƒæ•¸çš„è§’åº¦Î²ã€‚ \n Going back to the red triangle that we drew earlier, we can establish a relationship between Q1 and the angle beta. \n å›åˆ°æˆ‘å€‘ç•«çš„ç´…è‰²ä¸‰è§’å½¢ä¹‹å‰ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹ä¹‹é–“çš„é—œä¿‚ Q1 å’Œè§’Î²ã€‚ \n Introduce yet another angle, this one gamma and we can write a relationship between the angle gamma and the tooltip coordinates x and y. \n ä»‹ç´¹å¦ä¸€å€‹è§’åº¦ï¼Œé€™å€‹ä¼½é¦¬æˆ‘å€‘å¯ä»¥å¯«å‡ºä¹‹é–“çš„é—œä¿‚è§’åº¦ä¼½é¦¬å’Œå·¥å…·æç¤ºåæ¨™ x å’Œyã€‚ \n Now, we can write a simple relationship between the angles that weâ€™ve constructed, gamma and beta and the joined angle weâ€™re interested in which is Q1. \n ç¾åœ¨ï¼Œæˆ‘å€‘å¯ä»¥å¯«å‡ºä¸€å€‹ç°¡å–®çš„é—œä¿‚æˆ‘å€‘æ§‹å»ºçš„è§’åº¦ï¼Œä¼½é¦¬å’Œ beta ä»¥åŠæˆ‘å€‘æ„Ÿèˆˆè¶£çš„é€£æ¥è§’å…¶ä¸­æ˜¯ Q1ã€‚ \n And, the total relationship looks something like this. \n è€Œä¸”ï¼Œç¸½çš„é—œä¿‚çœ‹èµ·ä¾†æœ‰äº›æ±è¥¿åƒé€™æ¨£ã€‚ \n Quite a complex relationship, it gives us the angle of joined one, thatâ€™s Q1 in terms of the end effector coordinates y and x, and a bunch of constants, a1 and a2, and itâ€™s also a function of the second joint angle, Q2. \n ç›¸ç•¶è¤‡é›œçš„é—œä¿‚ï¼Œå®ƒçµ¦äº†æˆ‘å€‘é€£æ¥çš„è§’åº¦ï¼Œå³ Q1 æœ«ç«¯åŸ·è¡Œå™¨åæ¨™ y å’Œ xï¼Œä»¥åŠä¸€å †å¸¸é‡ï¼Œa1 å’Œ a2ï¼Œå®ƒæ˜¯ä¹Ÿæ˜¯ç¬¬äºŒé—œç¯€è§’åº¦çš„å‡½æ•¸ï¼Œ Q2ã€‚ \n So, letâ€™s summarize what it is that we have derived here. \n æ‰€ä»¥ï¼Œè®“æˆ‘å€‘ç¸½çµä¸€ä¸‹æˆ‘å€‘æœ‰ä»€éº¼æ´¾ç”Ÿæ–¼æ­¤ã€‚  \n We have an expression for the cosine of Q2 and we have an expression for Q1. \n æˆ‘å€‘æœ‰ Q2 çš„é¤˜å¼¦è¡¨é”å¼ æˆ‘å€‘æœ‰ Q1 çš„è¡¨é”å¼ã€‚ \n Now, the cosine function is symmetrical about 0. \n ç¾åœ¨ï¼Œé¤˜å¼¦å‡½æ•¸é—œæ–¼0ã€‚ \n So, if we know the value of the cosine of Q2, then there are two possible solutions, a positive angle and a negative angle. \n æ‰€ä»¥ï¼Œå¦‚æœæˆ‘å€‘çŸ¥é“é¤˜å¼¦å€¼ Q2ï¼Œé‚£éº¼æœ‰å…©ç¨®å¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆï¼Œ ä¸€å€‹æ­£è§’å’Œä¸€å€‹è² è§’ã€‚  \n Weâ€™re going to explicitly choose the positive angle, which means that I can write this expression here. \n æˆ‘å€‘å°‡æ˜ç¢ºé¸æ“‡ç©æ¥µçš„è§’åº¦ï¼Œé€™æ„å‘³è‘—æˆ‘å¯ä»¥å¯«å‡ºé€™å€‹è¡¨é”å¼é€™è£¡ã€‚ \n And now, we have what we call the inverse kinematic solution for this two-link robot. \n ç¾åœ¨ï¼Œæˆ‘å€‘æœ‰äº†æˆ‘å€‘æ‰€èªªçš„é€†é€™å€‹é›™é€£æ¡¿æ©Ÿå™¨äººçš„é‹å‹•å­¸è§£æ±ºæ–¹æ¡ˆã€‚ \n We have an expression for the two joined angles, Q1 and Q2 in terms of the end effector pose x and y, and a bunch of constants. \n æˆ‘å€‘æœ‰å…©å€‹é€£æ¥è§’çš„è¡¨é”å¼ï¼Œ Q1 å’Œ Q2 åœ¨æœ«ç«¯åŸ·è¡Œå™¨å§¿å‹¢æ–¹é¢ x å’Œ yï¼Œä»¥åŠä¸€å †å¸¸é‡ã€‚ \n You notice that the two equations are not independent. \n ä½ æ³¨æ„åˆ°é€™å…©å€‹æ–¹ç¨‹ä¸æ˜¯ç¨ç«‹çš„ã€‚ \n The equation for Q1, in fact, depends on the solution for Q2. \n äº‹å¯¦ä¸Šï¼ŒQ1 çš„æ–¹ç¨‹å–æ±ºæ–¼ Q2 çš„è§£æ±ºæ–¹æ¡ˆã€‚ In this case, Q2 is negative and weâ€™re going to write the solution for Q2 with a negative sign in front of the inverse cosine. \n åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼ŒQ2 æ˜¯è² æ•¸ï¼Œæˆ‘å€‘å°‡ç”¨è² æ•¸å¯«å‡º Q2 çš„è§£ç¬¦è™Ÿåœ¨åé¤˜å¼¦å‰é¢ã€‚ \n Now, we need to solve for Q1, so weâ€™re going to introduce this particular red triangle, the angle beta that we solved previously, and the angle gamma which is defined in terms of y and x. \n ç¾åœ¨ï¼Œæˆ‘å€‘éœ€è¦è§£æ±º Q1ï¼Œæ‰€ä»¥æˆ‘å€‘è¦ä»‹ç´¹é€™å€‹ç‰¹æ®Šçš„ç´…è‰²ä¸‰è§’å½¢ï¼Œ æˆ‘å€‘ä¹‹å‰æ±‚è§£çš„è§’åº¦Î²ï¼Œ ä»¥åŠç”¨è¡“èªå®šç¾©çš„è§’åº¦ä¼½é¦¬ y å’Œ xã€‚ \n Now, we write a slightly different relationship between Q1, gamma and beta, different to what we had before. \n ç¾åœ¨ï¼Œæˆ‘å€‘å¯«ä¸€å€‹ç¨å¾®ä¸åŒçš„é—œä¿‚åœ¨ Q1ã€gamma å’Œ beta ä¹‹é–“ï¼Œèˆ‡ä»€éº¼ä¸åŒæˆ‘å€‘ä»¥å‰æœ‰éã€‚ \n Thereâ€™s a change of sign involved. \n æ¶‰åŠåˆ°ç¬¦è™Ÿçš„è®ŠåŒ–ã€‚ \n Then, we can substitute all that previous equation and come up with this expression for Q1. \n ç„¶å¾Œï¼Œæˆ‘å€‘å¯ä»¥æ›¿æ›ä¹‹å‰çš„æ‰€æœ‰æ–¹ç¨‹ä¸¦æå‡ºé€™å€‹è¡¨é”å¼å°æ–¼ Q1ã€‚ Again, there is a change of sign here. \n åŒæ¨£ï¼Œé€™è£¡çš„ç¬¦è™Ÿç™¼ç”Ÿäº†è®ŠåŒ–ã€‚ Previously, this was a negative sign. \n ä»¥å‰ï¼Œé€™æ˜¯ä¸€å€‹è² é¢ä¿¡è™Ÿã€‚ \n And, here in summary form is the solution for the inverse kinematics of our two-link robot when it is in this particular configuration, where Q2 is negative. \n è€Œä¸”ï¼Œé€™è£¡æ˜¯ç¸½çµå½¢å¼çš„è§£æ±ºæ–¹æ¡ˆå°æ–¼æˆ‘å€‘çš„é›™é€£æ¡¿çš„é€†é‹å‹•å­¸ç•¶æ©Ÿå™¨äººè™•æ–¼é€™ç¨®ç‰¹å®šé…ç½®æ™‚ï¼Œ å…¶ä¸­ Q2 ç‚ºè² ã€‚ \n Letâ€™s compare the two solutions. \n è®“æˆ‘å€‘æ¯”è¼ƒé€™å…©ç¨®è§£æ±ºæ–¹æ¡ˆã€‚ \n The case where Q2 is positive and the case where Q2 is negative. \n æ¡ˆå­ å…¶ä¸­ Q2 ç‚ºæ­£ï¼ŒQ2 ç‚ºæ­£çš„æƒ…æ³ æ˜¯å¦å®šçš„ã€‚   \n', 'tags': '', 'url': 'W15.html'}, {'title': 'W16', 'text': '1. Onshape é›¶çµ„ä»¶ç¹ªè£½ \n Onshapeé›¶ä»¶é€£çµ \n MTB_roboté›¶ä»¶ä¸‹è¼‰ \n MTB_base \n MTB_link1 \n MTB_link2 \n MTB_link3 \n çµ„åˆ \n \n \n 2. å»ºç«‹ CoppeliaSim 4.1.0 MTB robot å ´æ™¯ \n MTB_1.ttt \n MTB_1.lua \n æ“ä½œèˆ‡è¬›è§£: \n \n 3. æ‰‹è‡‚æœ«ç«¯åŠ å…¥ components-gripper-suction pad å¸ç›¤ \n W16_keyboard.ttt \n mtb_w16b.lua  \n mtb_w16s.lua \n æ“ä½œèˆ‡è¬›è§£: \n \n function sysCall_init() \n    axis1=sim.getObjectHandle(\'MTB_axis1\')\n    axis2=sim.getObjectHandle(\'MTB_axis2\')\n    axis3=sim.getObjectHandle(\'MTB_axis3\')\n    axis4=sim.getObjectHandle(\'MTB_axis4\')\n    mtb3=sim.getObjectHandle(\'MTB_link3\')\n    suctionPad=sim.getObjectHandle(\'suctionPad\')\n    BaseFrame=sim.getObjectHandle("BaseFrame")\n    block =sim.getObjectHandle("block")\n    deg1 = 0\n    deg2 = 0\n    distance3 = 0\n    modelBase=sim.getObjectHandle(sim.handle_self)\n    robotBase=modelBase\n    robotName=\'suctionPad\'\n    deg = math.pi/180\n     \nend\nfunction sysCall_actuation() \n    calibration = 0.0042\n    message, auxiliaryData=sim.getSimulatorMessage()\n        while message ~= -1 do\n            key=auxiliaryData[1]\n            sim.addStatusbarMessage(\'????? key:\'..key)\n            if (message==sim.message_keypress) then\n            if (auxiliaryData[1]==112) then --p activate the suction pad\n                sim.setScriptSimulationParameter(sim.getScriptAssociatedWithObject(suctionPad),"active",\'true\')\n                end -- if p\n                if (auxiliaryData[1]==113) then --q deactivate the suction pad\n                sim.setScriptSimulationParameter(sim.getScriptAssociatedWithObject(suctionPad),\'active\',\'false\')\n                end -- if q\n                if (auxiliaryData[1]==108) then --l \n                     deg1 = deg1+0.4*deg\n                     sim.setJointPosition(axis1, deg1)\n                end -- if l\n                if (auxiliaryData[1]==114) then --r \n                     deg1 =deg1-0.4*deg\n                     sim.setJointPosition(axis1, deg1)\n                end -- if r\n                 if (auxiliaryData[1]==103) then --g\n                     deg2 =deg2-0.4*deg\n                     sim.setJointPosition(axis2, deg2)\n                end -- if r\n                 if (auxiliaryData[1]==104) then --h \n                     deg2 =deg2+0.4*deg\n                     sim.setJointPosition(axis2, deg2)\n                end -- if r\n                if (auxiliaryData[1]==100) then --d \n                     distance3 = distance3 + 0.03 + calibration\n                     sim.setJointPosition(axis3, distance3)\n                end -- if d\n                if (auxiliaryData[1]==117) then --u\n                     distance3 = distance3 - 0.03 - calibration\n                     sim.setJointPosition(axis3, distance3)\n                end -- if u\n                if (auxiliaryData[1]==98) then --b\n                     deg1 =0\n                     deg2 =0\n                     sim.setJointPosition(axis1, deg1)\n                     sim.setJointPosition(axis2, deg2)\n                end -- if b\n           end  -- if\n    message, auxiliaryData=sim.getSimulatorMessage()\n        end -- while\nend -- function\n \n å¸ç›¤ç¨‹å¼: \n function sysCall_init() \n    s=sim.getObjectHandle(\'suctionPadSensor\')\n    l=sim.getObjectHandle(\'suctionPadLoopClosureDummy1\')\n    l2=sim.getObjectHandle(\'suctionPadLoopClosureDummy2\')\n    b=sim.getObjectHandle(\'suctionPad\')\n    suctionPadLink=sim.getObjectHandle(\'suctionPadLink\')\n \n    infiniteStrength=sim.getScriptSimulationParameter(sim.handle_self,\'infiniteStrength\')\n    maxPullForce=sim.getScriptSimulationParameter(sim.handle_self,\'maxPullForce\')\n    maxShearForce=sim.getScriptSimulationParameter(sim.handle_self,\'maxShearForce\')\n    maxPeelTorque=sim.getScriptSimulationParameter(sim.handle_self,\'maxPeelTorque\')\n \n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\nend\n \nfunction sysCall_cleanup() \n--[[\n    sim.setLinkDummy(l,-1)\n    sim.setObjectParent(l,b,true)\n    m=sim.getObjectMatrix(l2,-1)\n    sim.setObjectMatrix(l,-1,m)\n]]--\nend\n \nfunction sysCall_sensing() \n    parent=sim.getObjectParent(l)\n    if (sim.getScriptSimulationParameter(sim.handle_self,\'active\')==false) then\n        if (parent~=b) then\n            sim.setLinkDummy(l,-1)\n            sim.setObjectParent(l,b,true)\n            m=sim.getObjectMatrix(l2,-1)\n            sim.setObjectMatrix(l,-1,m)\n        end\n    else\n        if (parent==b) then\n            -- Here we want to detect a respondable shape, and then connect to it with a force sensor (via a loop closure dummy dummy link)\n            -- However most respondable shapes are set to "non-detectable", so "sim.readProximitySensor" or similar will not work.\n            -- But "sim.checkProximitySensor" or similar will work (they don\'t check the "detectable" flags), but we have to go through all shape objects!\n            index=0\n            while true do\n                shape=sim.getObjects(index,sim.object_shape_type)\n                if (shape==-1) then\n                    break\n                end\n                if (shape~=b) and (sim.getObjectInt32Parameter(shape,sim.shapeintparam_respondable)~=0) and (sim.checkProximitySensor(s,shape)==1) then\n                    -- Ok, we found a respondable shape that was detected\n                    -- We connect to that shape:\n                    -- Make sure the two dummies are initially coincident:\n                    sim.setObjectParent(l,b,true)\n                    m=sim.getObjectMatrix(l2,-1)\n                    sim.setObjectMatrix(l,-1,m)\n                    -- Do the connection:\n                    sim.setObjectParent(l,shape,true)\n                    sim.setLinkDummy(l,l2)\n                    break\n                end\n                index=index+1\n            end\n        else\n            -- Here we have an object attached\n            if (infiniteStrength==false) then\n                -- We might have to conditionally beak it apart!\n                result,force,torque=sim.readForceSensor(suctionPadLink) -- Here we read the median value out of 5 values (check the force sensor prop. dialog)\n                if (result>0) then\n                    breakIt=false\n                    if (force[3]>maxPullForce) then breakIt=true end\n                    sf=math.sqrt(force[1]*force[1]+force[2]*force[2])\n                    if (sf>maxShearForce) then breakIt=true end\n                    if (torque[1]>maxPeelTorque) then breakIt=true end\n                    if (torque[2]>maxPeelTorque) then breakIt=true end\n                    if (breakIt) then\n                        -- We break the link:\n                        sim.setLinkDummy(l,-1)\n                        sim.setObjectParent(l,b,true)\n                        m=sim.getObjectMatrix(l2,-1)\n                        sim.setObjectMatrix(l,-1,m)\n                    end\n                end\n            end\n        end\n    end\n    if (sim.getSimulationState()==sim.simulation_advancing_lastbeforestop) then\n        sim.setLinkDummy(l,-1)\n        sim.setObjectParent(l,b,true)\n        m=sim.getObjectMatrix(l2,-1)\n        sim.setObjectMatrix(l,-1,m)\n    end\nend\n \n \n 4. é€†å‘é‹å‹•å­¸å‡½å¼ \n MTB_4.ttt \n MTB_4.lua \n MTB_4s.lua \n \n æ“ä½œèˆ‡è¬›è§£: \n æ ¹æ“š W15 èª²ç¨‹å…§å®¹ä¹‹ Inverse Kinematics æ–¹ç¨‹å¼ ( å½±ç‰‡1 \xa0æˆ– å½±ç‰‡2 )ï¼Œä½¿ç”¨(0.2, 0.7, 0.05) èˆ‡ (-0.3, -0.55, 0.05)è¨ˆç®—å‡ºè§’åº¦ \n (0.2, 0.7, 0.05) \n \n (-0.3, -0.55, 0.05) \n \n 5. Python remote API é€†å‘é‹å‹•å­¸å‡½å¼ \n MTB_remote_API \n æ“ä½œèˆ‡è¬›è§£: \n \n', 'tags': '', 'url': 'W16.html'}, {'title': 'Final', 'text': 'W18 \n æœŸæœ«è€ƒé€±ä¹‹å‰, è«‹å…©ç­å„çµ„å“¡æ‹æ”ä¸€æ®µ3-5åˆ†é˜å«æœ‰å­—å¹•, èªªæ˜å€‹äººèˆ‡åˆ†çµ„åœ¨æœ¬å­¸æœŸæ‰€å®Œæˆå…§å®¹ä¹‹å°è¦½å½±ç‰‡ã€‚ å½±ç‰‡å¿…é ˆåŒ…å«å€‹äººå€‰å„²æäº¤æ¨é€æ¬¡æ•¸èˆ‡é »ç‡ç•«é¢èªªæ˜, ä»¥åŠå„éšæ®µé …ç›®æ“ä½œçš„å½±ç‰‡å…§å®¹ä»‹ç´¹, å®Œæˆå¾Œè«‹ä¸Šå‚³åˆ° Youbube, æ¨™é¡Œå¿…é ˆç‚º"åœ‹ç«‹è™å°¾ç§‘æŠ€å¤§å­¸-æ©Ÿæ¢°è¨­è¨ˆå·¥ç¨‹ç³»-å”åŒç”¢å“è¨­è¨ˆå¯¦ç¿’-æœŸæœ«å ±å‘Š-å­¸è™Ÿ"ã€‚ \n \n Home page:  40823145 \n Repositories:\xa0 cd2021 Repositories \n Website:\xa0\xa0 cd2021 Website', 'tags': '', 'url': 'Final.html'}, {'title': 'Note', 'text': '', 'tags': '', 'url': 'Note.html'}, {'title': 'Upgrade pip', 'text': 'Install plugins(in cmd): \n pip install flask flask_cors bs4 markdown pelican leo\n \n Upgrade pip(in cmd): \n python -m pip install --upgrade pip\n \n', 'tags': '', 'url': 'Upgrade pip.html'}, {'title': 'ssh', 'text': 'input in cmd \n sh\nssh-keygen -t rsa -b 4096 -C "å­¸è™Ÿ"\n \n \n Stored in the  y:\\hom\\.ssh  directory by default \n \n Use puttygen to import private key ( id_ras ) and convert it to ( .ppk ) file \n \n Use scite to open the public key ( id_rsa.pub ), go to tool->Options->Wrap to see the complete file content \n Copy all, paste in github setting->SSH and GPG keys->New SSH key\xa0 \n \n Open putty.exe \n Input github.com, Click SSH->Auth \n Click Browes to find ( .ppk ) in the .ssh directory   \n \n \n Enter Y:\\tmp\\cd2021\\.git and modify the  config  file to  git@github.com:40823145/cd2021.git   \n \n Finish \n \n', 'tags': '', 'url': 'ssh.html'}, {'title': 'Leo Editor', 'text': 'Open Leo: \n Y:/cd tmp\nleo\n \n File->Open-Outline \n Select Y:\\tmp\\cd2021\\config  Select pelican.leo or reveal.leo \n \n', 'tags': '', 'url': 'Leo Editor.html'}, {'title': 'Blog', 'text': 'Add Disqus \n \n Modify the data in the share and remote. \n \n \n Edit template->@edit base.html \n \n Modify markdown \n \n', 'tags': '', 'url': 'Blog.html'}, {'title': 'Reveal', 'text': '\n', 'tags': '', 'url': 'Reveal.html'}, {'title': 'Code', 'text': 'github .stl 3D viewer \n <script src="https://embed.github.com/view/3d/æª”æ¡ˆä½ç½®"></script>', 'tags': '', 'url': 'Code.html'}, {'title': 'FreeCAD protable', 'text': 'FreeCADå¯æ”œç‰ˆ', 'tags': '', 'url': 'FreeCAD protable.html'}]};